<html>
  <head>
    <link
      rel="icon"
      type="image/x-icon"
      href="https://avatars3.githubusercontent.com/u/34464790?s=220&v=4"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="cssdumbmerch.css" />
    <title>PERDISKONAN DUNIAWI</title>
  </head>

  <body>
    <!--body DumbMerch-->
    <div class="color1 H-100 pt-3">
      <!--Body Card-->
      <div class="w-50 mx-auto bg-secondary p-3 rounded-3">
        <!-- component title -->
        <div
          class="text-center w-50 rounded border border-4 rounded-3 border-warning bg-dark mx-auto"
        >
          <h1 class="fw-bold title1">DumbMerch Diskon Berkah!!</h1>
        </div>

        <!-- component form -->
        <div>
          <div class="flex w-100 mb-4">
            <label for="kode1">Kode diskon 1</label>
            <div class="flex-start w-50">
              <input
                type="text"
                class="form-control form-kupon text-center"
                id="kode1"
                placeholder="DumbWMerchBerkah"
                disabled
                readonly
              />
            </div>
            <div class="flex-end w-50">
              <label for="kode2">Kode diskon 2</label>
              <input
                type="text"
                class="form-control form-kupon text-center"
                id="kode2"
                placeholder="DumbMerchMurahBar"
                disabled
                readonly
              />
            </div>
          </div>
          <div class="mt-1 mb-3">
            <input
              name="diskon"
              type="text"
              class="form-control text-center form-type"
              id="diskon"
              placeholder="Type the discount voucher here!!"
            />
          </div>
          <div class="mt-1 mb-3">
            <input
              name="totalbelanja"
              type="number"
              class="form-control text-center form-type"
              id="totalbelanja"
              placeholder="Input total belanja disini"
            />
          </div>
          <div class="text-center">
            <button
              onclick="BELANJA()"
              type="button"
              class="btn btn-danger fw-semibold"
            >
              Confirm Belanja
            </button>
          </div>
        </div>

        <!-- component hasil transaksi -->
        <div class="mt-5">
          <p class="text-center">hasilnya monggo bisa dicek di console log</p>
        </div>
      </div>
    </div>

    <script type="text/javascript">
      function BELANJA() {
        // ngambil value dariform
        let voucher = document.getElementById("diskon").value;
        let totalbelanja = document.getElementById("totalbelanja").value;
        totalbelanja = parseInt(totalbelanja);

        let diskon;
        // //variabel-variabel untuk di gunakan di pengondisian
        // let minBelanjaA = totalbelanja >= 50000;
        // let minBelanjaB = totalbelanja >= 70000;
        // // let maxDiscA = 20000;
        // // let maxDiscB = 45000;
        // let voucherA = 25;
        // let voucherB = 50;

        //untuk pengecekan kupon(pake voucher a atau voucher b)
        if (voucher == "DumbWMerchBerkah") {
          diskon = totalbelanja * 0.25;
          if (diskon >= 20000) {
            diskon = 20000;
          }
        } else if (voucher == "DumbMerchMurahBar") {
          diskon = totalbelanja * 0.5;
          if (diskon >= 45000) {
            diskon = 45000;
          }
        } else {
          diskon = 0;
        }

        //kondisi jika pake voucher a atau kondisi jika pake voucher b
        // if (voucherA && minBelanjaA) {
        //   hasildiskon = totalbelanja * (diskon / 100);
        //   console.log(voucherA);
        // }
        // if (hasildiskon >= 20000) {
        //   hasildiskon = 20000;
        // }

        // if (voucherB && minBelanjaB) {
        //   hasildiskon = totalbelanja * (diskon / 100);
        //   console.log(voucherB);
        // }
        // if (hasildiskon >= 45000) {
        //   hasildiskon = 45000;
        // }

        // if (!voucherA) {
        //   hasildiskon = 0;
        // }
        // if (!voucherB) {
        //   hasildiskon = 0;
        // }

        //var untuk perhitungan total bayar
        var totalbayar = totalbelanja - diskon;

        //untuk penampilan data di konsol log browser
        console.log(`
    Total belanja      : Rp. ${totalbelanja},00-
    Diskon             : ${diskon} %
    Potongan           : Rp. ${diskon},00-
    Total Pembayaran   : Rp. ${totalbayar},00-
                    `);
      }
    </script>
  </body>
</html>
